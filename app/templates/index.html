{% extends "layout/base.html" %}

{% block head %}
<style>
    body {
        overflow-y: auto;
    }
    #top {
        margin-top: 60px;
    }
</style>

<style>
  .bottom-three {
     margin-top: 0.5cm;
  }
</style>

<style>
    .form-small .control-label {
        width: 154px;
    }
</style>

<style>
    .jumbotron-title{
        width:100%;
        height: 360px;
        background-color:#E6FFFE;
        padding:0px;
        margin:0px;
        opacity: 0.7;
        text-align: center;
    }
</style>

<style>
    .jumbotron-special{
        width:100%;

        padding:0px;
        margin:0px;
        opacity: 0.7;
        text-align: center;
    }
</style>

<style>
    .jumbotron-special-small{
        width:100%;
        height: 160px;
        background-color:#B2CCFF;
        padding:0px;
        margin:0px;
        opacity: 0.7;
        text-align: center;
    }
</style>

<style>
    .jumbotron-special-small-error{
        width:100%;
        height: 120px;
        background-color:#B2CCFF;
        padding:0px;
        margin:0px;
        opacity: 0.7;
        text-align: center;
    }
</style>

<style>
    .jumbotron-special-dinner-nutrition{
        width:100%;
        height: 182px;
        background-color:#FFEBCC;
        padding:0px;
        margin:0px;
        opacity: 0.7;
        text-align: center;
    }
</style>

{% endblock %}

{% block content %}

{%if not create_dinners_flag %}

    <body style="">
        <div class="container-fluid">
            <div class="jumbotron jumbotron-title">
                <p class="bottom-three">What's for Dinner</p>
                <h1>What's for Dinner</h1>
                <img src="{{ url_for('static', filename='checkmark_logo_transparent.png') }}" />
                <h3>Enter your consumed calories estimate & pick a cuisine, then WFD will generate a dinner composition to help you meet standard daily nutrition goals.</h3>
            </div>
        </div> 
    </body>

{% endif %}

<body style="">
    <div class="container-fluid">
        <div class="jumbotron jumbotron-special">
            {%if create_dinners_flag %}
                <p class="bottom-three">What's for Dinner</p>
            {% endif %}
            <form id='myform' method='POST' action='' role="form" class="form-inline form-small">
                <h2>How many calories have you eaten today?</h2>
                    <div class='form-group'>                  
                        <input class="" type="number" step="any" min="0" placeholder="Calories" autocomplete="off" spellcheck="false" style="position: relative; vertical-align: top; background-color: transparent; " dir="auto" name='consumed_calories' id='consumed_calories' value={{consumed_calories}}>
                    </div>
                <p></p>
                <p>
                    <select name='cuisine_choice' id='cuisine_choice' class="form-control">
                        {% if cuisine_choice == "r" %}
                            <option value="r" selected="selected">Surprise Cuisine!</option>
                        {% else %}
                            <option value="r">Surprise Cuisine!</option>
                        {% endif %}
                        {% if cuisine_choice == "c" %}
                            <option value="c" selected="selected">Classic American</option>
                        {% else %}
                            <option value="c">Classic American</option>
                        {% endif %}
                        {% if cuisine_choice == "as" %}
                            <option value="as" selected="selected">American Southern</option>
                        {% else %}
                            <option value="as">American Southern</option>
                        {% endif %}
                        {% if cuisine_choice == "i" %}
                            <option value="i" selected="selected">Italian + Salad</option>
                        {% else %}
                            <option value="i">Italian + Salad</option>
                        {% endif %}
                        {% if cuisine_choice == "a" %}
                            <option value="a" selected="selected">Asian</option>
                        {% else %}
                            <option value="a">Asian</option>
                        {% endif %}
                        {% if cuisine_choice == "m" %}
                            <option value="m" selected="selected">Mexican</option>
                        {% else %}
                            <option value="m">Mexican</option>
                        {% endif %}
                        {% if cuisine_choice == "s" %}
                            <option value="s" selected="selected">Seafood</option>
                        {% else %}
                            <option value="s">Seafood</option>
                        {% endif %}
                        {% if cuisine_choice == "b" %}
                            <option value="b" selected="selected">Breakfast for Dinner</option>
                        {% else %}
                            <option value="b">Breakfast for Dinner</option>
                        {% endif %}
                    </select>
                     <input id='mybutton' class="btn btn-success" type='submit' value="What's for Dinner?"> <img src="{{ url_for('static', filename='WFD_logo_very_small.png') }}" />
                </p>
                
                
            </form>
        </div>
    </div> 
</body>




{%if create_dinners_flag %}

    {% if dinner_nutrition_target[0] %}
    <body style="">
        <div class="container-fluid">
            <div class="jumbotron jumbotron-special-small">
                <div class="col-xs-1">
                </div>
                <div class="col-xs-10">
                    <h2 class="sub-header">Dinner nutrition target</h2>
                    <div class="table-responsive">
                        <table class="table table-striped" align="center">
                            <thead>
                                <tr>
                                    <th><div class="text-center">Calories</div></th>
                                    <th><div class="text-center">Carbs (g)</div></th>
                                    <th><div class="text-center">Fat (g)</div></th>
                                    <th><div class="text-center">Protein (g)</div></th>
                                    <th><div class="text-center">Sugar (g)</div></th>
                                    <th><div class="text-center">Fiber (g)</div></th>
                                </tr>
                            </thead>
                            <tbody>
                                <td><div class="text-center">{{dinner_nutrition_target[0]}}</div></td>
                                <td><div class="text-center">{{dinner_nutrition_target[1]}}</div></td>
                                <td><div class="text-center">{{dinner_nutrition_target[2]}}</div></td>
                                <td><div class="text-center">{{dinner_nutrition_target[3]}}</div></td>
                                <td><div class="text-center">{{dinner_nutrition_target[4]}}</div></td>
                                <td><div class="text-center">{{dinner_nutrition_target[5]}}</div></td>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="col-xs-1">
                </div>
            </div>
        </div>
    </body>

    {% endif %}




    <body style="">
        <div class="container-fluid">
            <div class="col-xs-12">
                <div class="table-responsive">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>Food Item</th>
                                <th>Portion</th>
                            </tr>
                        </thead>
                        <tbody>
                        {% for line in data %}
                            <tr>
                            {% for col in line %}
                                <td>{{col}}</td>
                            {% endfor %}
                            </tr>
                        {% endfor %} 
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </body>






    <body style="">
        <div class="container-fluid">
            <div class="jumbotron jumbotron-special-dinner-nutrition">
            <div class="col-xs-1">
            </div>
                <div class="col-xs-10">
                    <h2 class="sub-header">Dinner nutrition, match = 
                    {% if int_dinner_simple_score==0 %}
                        <font color="9B8772">0</font>
                    {% else %}
                        {% for n in range(int_dinner_simple_score) %}
                            <img src="{{ url_for('static', filename='beef_40px.png') }}" />
                        {% endfor %}
                        {% if half_score_flag %}
                            <img src="{{ url_for('static', filename='beef_half_40px.png') }}" />
                        {% endif %}
                    {% endif %}
                    <font color="9B8772">/ 5</font>
                    </h2>
                    <div class="table-responsive">
                        <table class="table table-striped" align="center">
                            <thead>
                                <tr>
                                    <th><div class="text-center">Calories</div></th>
                                    <th><div class="text-center">Carbs (g)</div></th>
                                    <th><div class="text-center">Fat (g)</div></th>
                                    <th><div class="text-center">Protein (g)</div></th>
                                    <th><div class="text-center">Sugar (g)</div></th>
                                    <th><div class="text-center">Fiber (g)</div></th>
                                </tr>
                            </thead>
                            <tbody>
                                <td><font color="{{dinner_colors[0]}}">{{dinner_nutrition_data[0]}}</font></td>
                                <td><font color="{{dinner_colors[1]}}">{{dinner_nutrition_data[1]}}</font></td>
                                <td><font color="{{dinner_colors[2]}}">{{dinner_nutrition_data[2]}}</font></td>
                                <td><font color="{{dinner_colors[3]}}">{{dinner_nutrition_data[3]}}</font></td>
                                <td><font color="{{dinner_colors[4]}}">{{dinner_nutrition_data[4]}}</font></td>
                                <td><font color="{{dinner_colors[5]}}">{{dinner_nutrition_data[5]}}</font></td>
                            </tbody>
                        </table>
                  </div>
                </div>
            <div class="col-xs-1">
            </div>
            </div>
        </div>
    </body>

{% else %}

    <body style="">
        <div class="container-fluid">
            <div class="col-xs-12 text-center">
                <h2 class="sub-header"><font color="red">{{ error_text }}</font></h2>
            </div>
        </div>
    </body>

{% endif %}



{% endblock %}


{% block footer %}
    {% include "include/footer.html" %}
{% endblock %}